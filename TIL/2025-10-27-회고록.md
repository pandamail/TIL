# 📅 2025-10-27 - 일일 학습 기록

## 🚀 오늘 한 일
- [x] 사용자 시험 응시 흐름 E2E 테스트 완성 (시나리오 구체화, UI 상호작용 처리)
- [x] 테스트 독립성 확보를 위한 `beforeAll` -> `beforeEach`, `afterAll` -> `afterEach` 구조 개선
- [x] `loginAsStudentAndGoToWaiting` 헬퍼 함수 리팩토링

## 📚 새로 배운 것
### Playwright 테스트 구조 개선 및 멀티탭 테스트
- Playwright에서 한 번의 테스트로 두 개의 탭(admin, user)을 동시에 테스트할 수 있다는 점을 알게 됨.
- 테스트 간 데이터 충돌을 방지하기 위해 `beforeEach`/`afterEach` 훅을 활용하여 각 테스트가 독립적인 환경에서 실행되도록 하는 구조의 중요성을 깨달음.

## 💻 코드 스니펫
```typescript
// 예시: loginAsStudentAndGoToWaiting 헬퍼 함수 (실제 구현은 login.ts 또는 user-exam.spec.ts 내)
async function loginAsStudentAndGoToWaiting(userPage: Page, studentId: string, studentPwd: string) {
    await userPage.goto(`${process.env.USER_HOST}/pre-login`);
    await userPage.getByPlaceholder('학번').fill(studentId);
    await userPage.getByPlaceholder('비밀번호').fill(studentPwd);
    await userPage.getByRole('button', { name: '다음' }).click();
    await expect(userPage).toHaveURL(/.*\/exam\/waiting\/.*/);
}
```

## 🤔 고민한 부분
- 테스트 병렬 실행 시 발생하는 경쟁 상태(Race Condition)와 데이터 충돌 문제를 해결하기 위한 `beforeEach`/`afterEach` 전환 과정에서 테스트 독립성과 효율성 사이의 균형점을 찾는 것에 대해 고민함.

## 📌 내일 할 일
- [ ] 오늘 설계한 '세부 기능 테스트' 블록 안에서 계산기, 2단 보기 등 시험 응시 중 사용되는 기능들에 대한 테스트 구현

## 🔗 참고 링크
- C:\Users\IBST\Desktop\taetae\TIL\playwright작업.md

---
**한 줄 회고**: Playwright E2E 테스트의 핵심 흐름을 완성하고, 테스트 구조를 견고하게 개선하여 큰 성과를 거둔 하루!

**태그**: #Playwright #E2E테스트 #테스트자동화 #리팩토링 #회고록
